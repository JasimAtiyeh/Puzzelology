<p>Select a file <input type="file" onchange="previewImage(this)"></p>
<p><img id="preview"></p>

<button onclick="setImage()">Set image</button>

<script>
  const previewImage = input => {
    let reader = new FileReader();
    reader.onload = e => document.getElementById("preview").setAttribute("src", e.target.result)
    reader.readAsDataURL(input.files[0]);
  }

  const setImage = () => {

  }
</script>

<body>
  <img src="">
</body>